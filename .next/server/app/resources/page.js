(()=>{var e={};e.id=126,e.ids=[126],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},2078:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(482),i=r(9108),a=r(2563),o=r.n(a),l=r(8300),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);r.d(t,n);let c=["",{children:["resources",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4366)),"D:\\Skill_Mapper\\src\\app\\resources\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2558)),"D:\\Skill_Mapper\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\Skill_Mapper\\src\\app\\resources\\page.tsx"],u="/resources/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/resources/page",pathname:"/resources",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5911:(e,t,r)=>{Promise.resolve().then(r.bind(r,7620))},7620:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(5344),i=r(3729),a=r(7292);function o(){return s.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:s.jsx(a.E.div,{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})})}var l=r(8022),n=r(5814),c=r(8428),d=r(9119);function u({message:e,onRetry:t}){return(0,s.jsxs)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-destructive/10 text-destructive p-4 rounded-lg",children:[s.jsx("p",{className:"mb-2",children:e}),t&&s.jsx("button",{onClick:t,className:"text-sm font-medium hover:underline",children:"Try again"})]})}let p=["article","video","course","project","other"];function m({resources:e,error:t,onRetry:r,onToggleComplete:o,onAddResource:l}){let[n,c]=(0,i.useState)({title:"",url:"",type:"article",description:"",completed:!1,status:"not_started",priority:"medium",tags:[]});return(0,s.jsxs)("div",{className:"animate-fade-in",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Learning Resources"}),t&&s.jsx("div",{className:"mb-8",children:s.jsx(u,{message:t,onRetry:r})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:(0,s.jsxs)("div",{className:"bg-card p-6 rounded-lg shadow-sm",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add New Resource"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n.title&&n.url&&(l(n),c({title:"",url:"",type:"article",description:"",completed:!1,status:"not_started",priority:"medium",tags:[]}))},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),s.jsx("input",{type:"text",value:n.title,onChange:e=>c(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"URL"}),s.jsx("input",{type:"url",value:n.url,onChange:e=>c(t=>({...t,url:e.target.value})),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type"}),s.jsx("select",{value:n.type,onChange:e=>c(t=>({...t,type:e.target.value})),className:"w-full px-3 py-2 border rounded-md",children:p.map(e=>s.jsx("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),s.jsx("textarea",{value:n.description,onChange:e=>c(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 border rounded-md",rows:3})]}),s.jsx("button",{type:"submit",className:"w-full py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Add Resource"})]})]})}),s.jsx("div",{children:(0,s.jsxs)("div",{className:"bg-card p-6 rounded-lg shadow-sm",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Resources"}),s.jsx("div",{className:"space-y-4",children:s.jsx(d.M,{children:0===e.length?s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No resources added yet"}):e.map(e=>s.jsx(a.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"p-4 border rounded-md",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-medium",children:e.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),e.description&&s.jsx("p",{className:"text-sm mt-1",children:e.description}),s.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline mt-1 inline-block",children:"Visit Resource"})]}),s.jsx("button",{onClick:()=>o(e.id),className:`px-3 py-1 text-sm rounded-md ${e.completed?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.completed?"Completed":"Mark Complete"})]})},e.id))})})]})})]})]})}function x(){let[e,t]=(0,i.useState)([]),[r,a]=(0,i.useState)({title:"",url:"",type:"article",description:"",completed:!1}),[d,u]=(0,i.useState)(!0),[p,x]=(0,i.useState)(null),{showToast:h}=(0,l.useToast)(),{user:y}=(0,n.useAuth)(),g=(0,c.useRouter)();(0,i.useEffect)(()=>{if(!y){g.push("/auth");return}f()},[y,g]);let f=async()=>{try{x(null);let e=await fetch(`/api/resources?userId=${y?.id}`);if(!e.ok){let t=new globalThis.Error("Failed to fetch resources");throw t.status=e.status,t}let r=await e.json();t(r)}catch(t){let e=t instanceof Error?t.message:"An error occurred";x(e),h(e,"error")}finally{u(!1)}},j=async e=>{try{x(null);let r=await fetch("/api/resources",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,user_id:y?.id})});if(!r.ok){let e=new globalThis.Error("Failed to add resource");throw e.status=r.status,e}let s=await r.json();t(e=>[...e,s]),a({title:"",url:"",type:"article",description:"",completed:!1}),h("Resource added successfully","success")}catch(t){let e=t instanceof Error?t.message:"An error occurred";x(e),h(e,"error")}},b=async r=>{let s=e.find(e=>e.id===r);if(s)try{x(null);let e=await fetch("/api/resources",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,completed:!s.completed})});if(!e.ok){let t=new globalThis.Error("Failed to update resource");throw t.status=e.status,t}let i=await e.json();t(e=>e.map(e=>e.id===r?i:e)),h(`Resource marked as ${i.completed?"completed":"incomplete"}`,"success")}catch(t){let e=t instanceof Error?t.message:"An error occurred";x(e),h(e,"error")}};return y?d?s.jsx("div",{className:"container mx-auto py-8 px-4",children:s.jsx(o,{})}):s.jsx("div",{className:"container mx-auto py-8 px-4",children:s.jsx(m,{resources:e,error:p,onRetry:f,onToggleComplete:b,onAddResource:j})}):null}},4366:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>i,default:()=>o});let s=(0,r(6843).createProxy)(String.raw`D:\Skill_Mapper\src\app\resources\page.tsx`),{__esModule:i,$$typeof:a}=s,o=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,49,885],()=>r(2078));module.exports=s})();